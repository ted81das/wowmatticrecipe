!function(a,b){void 0===a&&void 0!==window&&(a=window),"function"==typeof define&&define.amd?define(["jquery"],function(a){return b(a)}):"object"==typeof module&&module.exports?module.exports=b(require("jquery")):b(a.jQuery)}(this,function(a){!function(b){"use strict";function c(a,c){var d=a.nodeName.toLowerCase();if(-1!==b.inArray(d,c))return-1===b.inArray(d,n)||Boolean(a.nodeValue.match(q)||a.nodeValue.match(r));for(var e=b(c).filter(function(a,b){return b instanceof RegExp}),f=0,g=e.length;f<g;f++)if(d.match(e[f]))return!0;return!1}function d(b,d,e){if(e&&"function"==typeof e)return e(b);for(var f=Object.keys(d),g=0,h=b.length;g<h;g++)for(var i=b[g].querySelectorAll("*"),j=0,k=i.length;j<k;j++){var l=i[j],m=l.nodeName.toLowerCase();if(a(l).is("img")){var n=l.getAttribute("data-src");n&&l.setAttribute("src",n)}if(-1!==f.indexOf(m))for(var o=[].slice.call(l.attributes),p=[].concat(d["*"]||[],d[m]||[]),q=0,r=o.length;q<r;q++){var s=o[q];c(s,p)||l.removeAttribute(s.nodeName)}else l.parentNode.removeChild(l)}}function e(a,b){return a.length===b.length&&a.every(function(a,c){return a===b[c]})}function f(a,b){var c,d=a.selectedOptions,e=[];if(b){for(var f=0,g=d.length;f<g;f++)c=d[f],c.disabled||"OPTGROUP"===c.parentNode.tagName&&c.parentNode.disabled||e.push(c);return e}return d}function g(a,b){for(var c,d=[],e=b||a.selectedOptions,f=0,g=e.length;f<g;f++)c=e[f],c.disabled||"OPTGROUP"===c.parentNode.tagName&&c.parentNode.disabled||d.push(c.value);return a.multiple?d:d.length?d[0]:null}function h(a,b,c,d){for(var e=["display","subtext","tokens"],f=!1,g=0;g<e.length;g++){var h=e[g],i=a[h];if(i&&(i=i.toString(),"display"===h&&(i=i.replace(/<[^>]+>/g,"")),d&&(i=k(i)),i=i.toUpperCase(),f="contains"===c?i.indexOf(b)>=0:i.startsWith(b)))break}return f}function i(a){return parseInt(a,10)||0}function j(a){return z[a]}function k(a){return(a=a.toString())&&a.replace(A,j).replace(B,"")}function l(a){var c=arguments,d=a;if([].shift.apply(c),!G.success){try{G.full=(b.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split(".")}catch(a){P.BootstrapVersion?G.full=P.BootstrapVersion.split(" ")[0].split("."):G.full=[G.major,"0","0"]}G.major=G.full[0],G.success=!0}if("4"===G.major){var e=[];P.DEFAULTS.style===J.BUTTONCLASS&&e.push({name:"style",className:"BUTTONCLASS"}),P.DEFAULTS.iconBase===J.ICONBASE&&e.push({name:"iconBase",className:"ICONBASE"}),P.DEFAULTS.tickIcon===J.TICKICON&&e.push({name:"tickIcon",className:"TICKICON"}),J.DIVIDER="dropdown-divider",J.SHOW="show",J.BUTTONCLASS="btn-light",J.POPOVERHEADER="popover-header",J.ICONBASE="",J.TICKICON="bs-ok-default";for(var f=0;f<e.length;f++){var a=e[f];P.DEFAULTS[a.name]=J[a.className]}}var g,h=this.each(function(){var a=b(this);if(a.is("select")){var e=a.data("selectpicker"),f="object"==typeof d&&d;if(e){if(f)for(var h in f)f.hasOwnProperty(h)&&(e.options[h]=f[h])}else{var i=a.data();for(var j in i)i.hasOwnProperty(j)&&-1!==b.inArray(j,m)&&delete i[j];var k=b.extend({},P.DEFAULTS,b.fn.selectpicker.defaults||{},i,f);k.template=b.extend({},P.DEFAULTS.template,b.fn.selectpicker.defaults?b.fn.selectpicker.defaults.template:{},i.template,f.template),a.data("selectpicker",e=new P(this,k))}"string"==typeof d&&(g=e[d]instanceof Function?e[d].apply(e,c):e.options[d])}});return void 0!==g?g:h}var m=["sanitize","whiteList","sanitizeFn"],n=["background","cite","href","itemtype","longdesc","poster","src","data-src","xlink:href"],o=/^aria-[\w-]*$/i,p={"*":["class","dir","id","lang","role","tabindex","style",o],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height","data-src"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},q=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,r=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;"classList"in document.createElement("_")||function(a){if("Element"in a){var c=a.Element.prototype,d=Object,e=function(){var a=b(this);return{add:function(b){return b=Array.prototype.slice.call(arguments).join(" "),a.addClass(b)},remove:function(b){return b=Array.prototype.slice.call(arguments).join(" "),a.removeClass(b)},toggle:function(b,c){return a.toggleClass(b,c)},contains:function(b){return a.hasClass(b)}}};if(d.defineProperty){var f={get:e,enumerable:!0,configurable:!0};try{d.defineProperty(c,"classList",f)}catch(a){void 0!==a.number&&-2146823252!==a.number||(f.enumerable=!1,d.defineProperty(c,"classList",f))}}else d.prototype.__defineGetter__&&c.__defineGetter__("classList",e)}}(window);var s=document.createElement("_");if(s.classList.add("c1","c2"),!s.classList.contains("c2")){var t=DOMTokenList.prototype.add,u=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){Array.prototype.forEach.call(arguments,t.bind(this))},DOMTokenList.prototype.remove=function(){Array.prototype.forEach.call(arguments,u.bind(this))}}if(s.classList.toggle("c3",!1),s.classList.contains("c3")){var v=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,b){return 1 in arguments&&!this.contains(a)==!b?b:v.call(this,a)}}s=null,String.prototype.startsWith||function(){var a=function(){try{var a={},b=Object.defineProperty,c=b(a,a,a)&&b}catch(a){}return c}(),b={}.toString,c=function(a){if(null==this)throw new TypeError;var c=String(this);if(a&&"[object RegExp]"==b.call(a))throw new TypeError;var d=c.length,e=String(a),f=e.length,g=arguments.length>1?arguments[1]:void 0,h=g?Number(g):0;h!=h&&(h=0);var i=Math.min(Math.max(h,0),d);if(f+i>d)return!1;for(var j=-1;++j<f;)if(c.charCodeAt(i+j)!=e.charCodeAt(j))return!1;return!0};a?a(String.prototype,"startsWith",{value:c,configurable:!0,writable:!0}):String.prototype.startsWith=c}(),Object.keys||(Object.keys=function(a,b,c){c=[];for(b in a)c.hasOwnProperty.call(a,b)&&c.push(b);return c}),HTMLSelectElement&&!HTMLSelectElement.prototype.hasOwnProperty("selectedOptions")&&Object.defineProperty(HTMLSelectElement.prototype,"selectedOptions",{get:function(){return this.querySelectorAll(":checked")}});var w={useDefault:!1,_set:b.valHooks.select.set};b.valHooks.select.set=function(a,c){return c&&!w.useDefault&&b(a).data("selected",!0),w._set.apply(this,arguments)};var x=null,y=function(){try{return new Event("change"),!0}catch(a){return!1}}();b.fn.triggerNative=function(a){var b,c=this[0];c.dispatchEvent?(y?b=new Event(a,{bubbles:!0}):(b=document.createEvent("Event"),b.initEvent(a,!0,!1)),c.dispatchEvent(b)):c.fireEvent?(b=document.createEventObject(),b.eventType=a,c.fireEvent("on"+a,b)):this.trigger(a)};var z={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},A=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,B=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]","g"),C={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},D=function(a){var b=function(b){return a[b]},c="(?:"+Object.keys(a).join("|")+")",d=RegExp(c),e=RegExp(c,"g");return function(a){return a=null==a?"":""+a,d.test(a)?a.replace(e,b):a}}(C),E={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},F={ESCAPE:27,ENTER:13,SPACE:32,TAB:9,ARROW_UP:38,ARROW_DOWN:40},G={success:!1,major:"3"};try{G.full=(b.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split("."),G.major=G.full[0],G.success=!0}catch(a){}var H=0,I=".bs.select",J={DISABLED:"disabled",DIVIDER:"divider",SHOW:"open",DROPUP:"dropup",MENU:"dropdown-menu",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",BUTTONCLASS:"btn-default",POPOVERHEADER:"popover-title",ICONBASE:"glyphicon",TICKICON:"glyphicon-ok"},K={MENU:"."+J.MENU},L={span:document.createElement("span"),i:document.createElement("i"),subtext:document.createElement("small"),a:document.createElement("a"),li:document.createElement("li"),whitespace:document.createTextNode(" "),fragment:document.createDocumentFragment()};L.a.setAttribute("role","option"),"4"===G.major&&(L.a.className="dropdown-item"),L.subtext.className="text-muted",L.text=L.span.cloneNode(!1),L.text.className="text",L.checkMark=L.span.cloneNode(!1);var M=new RegExp(F.ARROW_UP+"|"+F.ARROW_DOWN),N=new RegExp("^"+F.TAB+"$|"+F.ESCAPE),O={li:function(a,b,c){var d=L.li.cloneNode(!1);return a&&(1===a.nodeType||11===a.nodeType?d.appendChild(a):d.innerHTML=a),void 0!==b&&""!==b&&(d.className=b),void 0!==c&&null!==c&&d.classList.add("optgroup-"+c),d},a:function(a,b,c){var d=L.a.cloneNode(!0);return a&&(11===a.nodeType?d.appendChild(a):d.insertAdjacentHTML("beforeend",a)),void 0!==b&&""!==b&&d.classList.add.apply(d.classList,b.split(" ")),c&&d.setAttribute("style",c),d},text:function(a,b){var c,d,e=L.text.cloneNode(!1);if(a.content)e.innerHTML=a.content;else{if(e.textContent=a.text,a.icon){var f=L.whitespace.cloneNode(!1);d=(!0===b?L.i:L.span).cloneNode(!1),d.className=this.options.iconBase+" "+a.icon,L.fragment.appendChild(d),L.fragment.appendChild(f)}a.subtext&&(c=L.subtext.cloneNode(!1),c.textContent=a.subtext,e.appendChild(c))}if(!0===b)for(;e.childNodes.length>0;)L.fragment.appendChild(e.childNodes[0]);else L.fragment.appendChild(e);return L.fragment},label:function(a){var b,c,d=L.text.cloneNode(!1);if(d.innerHTML=a.display,a.icon){var e=L.whitespace.cloneNode(!1);c=L.span.cloneNode(!1),c.className=this.options.iconBase+" "+a.icon,L.fragment.appendChild(c),L.fragment.appendChild(e)}return a.subtext&&(b=L.subtext.cloneNode(!1),b.textContent=a.subtext,d.appendChild(b)),L.fragment.appendChild(d),L.fragment}},P=function(a,c){var d=this;w.useDefault||(b.valHooks.select.set=w._set,w.useDefault=!0),this.$element=b(a),this.$newElement=null,this.$button=null,this.$menu=null,this.options=c,this.selectpicker={main:{},search:{},current:{},view:{},isSearching:!1,keydown:{keyHistory:"",resetKeyHistory:{start:function(){return setTimeout(function(){d.selectpicker.keydown.keyHistory=""},800)}}}},this.sizeInfo={},null===this.options.title&&(this.options.title=this.$element.attr("title"));var e=this.options.windowPadding;"number"==typeof e&&(this.options.windowPadding=[e,e,e,e]),this.val=P.prototype.val,this.render=P.prototype.render,this.refresh=P.prototype.refresh,this.setStyle=P.prototype.setStyle,this.selectAll=P.prototype.selectAll,this.deselectAll=P.prototype.deselectAll,this.destroy=P.prototype.destroy,this.remove=P.prototype.remove,this.show=P.prototype.show,this.hide=P.prototype.hide,this.init()};P.VERSION="1.13.14",P.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(a,b){return 1==a?"{0} item selected":"{0} items selected"},maxOptionsText:function(a,b){return[1==a?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==b?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:J.BUTTONCLASS,size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:J.ICONBASE,tickIcon:J.TICKICON,showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0,virtualScroll:600,display:!1,sanitize:!0,sanitizeFn:null,whiteList:p},P.prototype={constructor:P,init:function(){var a=this,b=this.$element.attr("id");H++,this.selectId="bs-select-"+H,this.$element[0].classList.add("bs-select-hidden"),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$element[0].classList.contains("show-tick")&&(this.options.showTick=!0),this.$newElement=this.createDropdown(),this.buildData(),this.$element.after(this.$newElement).prependTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(K.MENU),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element[0].classList.remove("bs-select-hidden"),!0===this.options.dropdownAlignRight&&this.$menu[0].classList.add(J.MENURIGHT),void 0!==b&&this.$button.attr("data-id",b),this.checkDisabled(),this.clickListener(),this.options.liveSearch?(this.liveSearchListener(),this.focusedParent=this.$searchbox[0]):this.focusedParent=this.$menuInner[0],this.setStyle(),this.render(),this.setWidth(),this.options.container?this.selectPosition():this.$element.on("hide.bs.select",function(){if(a.isVirtual()){var b=a.$menuInner[0],c=b.firstChild.cloneNode(!1);b.replaceChild(c,b.firstChild),b.scrollTop=0}}),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(b){a.$element.trigger("hide.bs.select",b)},"hidden.bs.dropdown":function(b){a.$element.trigger("hidden.bs.select",b)},"show.bs.dropdown":function(b){a.$element.trigger("show.bs.select",b)},"shown.bs.dropdown":function(b){a.$element.trigger("shown.bs.select",b)}}),a.$element[0].hasAttribute("required")&&this.$element.on("invalid.bs.select",function(){a.$button[0].classList.add("bs-invalid"),a.$element.on("shown.bs.select.invalid",function(){a.$element.val(a.$element.val()).off("shown.bs.select.invalid")}).on("rendered.bs.select",function(){this.validity.valid&&a.$button[0].classList.remove("bs-invalid"),a.$element.off("rendered.bs.select")}),a.$button.on("blur.bs.select",function(){a.$element.trigger("focus").trigger("blur"),a.$button.off("blur.bs.select")})}),setTimeout(function(){a.buildList(),a.$element.trigger("loaded.bs.select")})},createDropdown:function(){var a=this.multiple||this.options.showTick?" show-tick":"",c=this.multiple?' aria-multiselectable="true"':"",d="",e=this.autofocus?" autofocus":"";G.major<4&&this.$element.parent().hasClass("input-group")&&(d=" input-group-btn");var f,g="",h="",i="",j="";return this.options.header&&(g='<div class="'+J.POPOVERHEADER+'"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>"),this.options.liveSearch&&(h='<div class="bs-searchbox"><input type="search" class="form-control" placeholder="Search..." autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+D(this.options.liveSearchPlaceholder)+'"')+' role="combobox" aria-label="Search" aria-controls="'+this.selectId+'" aria-autocomplete="list"></div>'),this.multiple&&this.options.actionsBox&&(i='<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn '+J.BUTTONCLASS+'">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn '+J.BUTTONCLASS+'">'+this.options.deselectAllText+"</button></div></div>"),this.multiple&&this.options.doneButton&&(j='<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm '+J.BUTTONCLASS+'">'+this.options.doneButtonText+"</button></div></div>"),f='<div class="dropdown bootstrap-select'+a+d+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" '+("static"===this.options.display?'data-display="static"':"")+'data-toggle="dropdown"'+e+' role="combobox" aria-owns="'+this.selectId+'" aria-haspopup="listbox" aria-expanded="false"><div class="filter-option"><div class="filter-option-inner"><div class="filter-option-inner-inner"></div></div> </div>'+("4"===G.major?"":'<span class="bs-caret">'+this.options.template.caret+"</span>")+'</button><div class="'+J.MENU+" "+("4"===G.major?"":J.SHOW)+'">'+g+h+i+'<div class="inner '+J.SHOW+'" role="listbox" id="'+this.selectId+'" tabindex="-1" '+c+'><ul class="'+J.MENU+" inner "+("4"===G.major?J.SHOW:"")+'" role="presentation"></ul></div>'+j+"</div></div>",b(f)},setPositionData:function(){this.selectpicker.view.canHighlight=[],this.selectpicker.view.size=0;for(var a=0;a<this.selectpicker.current.data.length;a++){var b=this.selectpicker.current.data[a],c=!0;"divider"===b.type?(c=!1,b.height=this.sizeInfo.dividerHeight):"optgroup-label"===b.type?(c=!1,b.height=this.sizeInfo.dropdownHeaderHeight):b.height=this.sizeInfo.liHeight,b.disabled&&(c=!1),this.selectpicker.view.canHighlight.push(c),c&&(this.selectpicker.view.size++,b.posinset=this.selectpicker.view.size),b.position=(0===a?0:this.selectpicker.current.data[a-1].position)+b.height}},isVirtual:function(){return!1!==this.options.virtualScroll&&this.selectpicker.main.elements.length>=this.options.virtualScroll||!0===this.options.virtualScroll},createView:function(a,c,f){function g(b,c){var f,g,k,m,n,o,p,q,r=j.selectpicker.current.elements.length,s=[],t=!0,u=j.isVirtual();j.selectpicker.view.scrollTop=b,f=Math.ceil(j.sizeInfo.menuInnerHeight/j.sizeInfo.liHeight*1.5),g=Math.round(r/f)||1;for(var v=0;v<g;v++){var w=(v+1)*f;if(v===g-1&&(w=r),s[v]=[v*f+(v?1:0),w],!r)break;void 0===n&&b-1<=j.selectpicker.current.data[w-1].position-j.sizeInfo.menuInnerHeight&&(n=v)}if(void 0===n&&(n=0),o=[j.selectpicker.view.position0,j.selectpicker.view.position1],k=Math.max(0,n-1),m=Math.min(g-1,n+1),j.selectpicker.view.position0=!1===u?0:Math.max(0,s[k][0])||0,j.selectpicker.view.position1=!1===u?r:Math.min(r,s[m][1])||0,p=o[0]!==j.selectpicker.view.position0||o[1]!==j.selectpicker.view.position1,void 0!==j.activeIndex&&(i=j.selectpicker.main.elements[j.prevActiveIndex],l=j.selectpicker.main.elements[j.activeIndex],h=j.selectpicker.main.elements[j.selectedIndex],c&&(j.activeIndex!==j.selectedIndex&&j.defocusItem(l),j.activeIndex=void 0),j.activeIndex&&j.activeIndex!==j.selectedIndex&&j.defocusItem(h)),void 0!==j.prevActiveIndex&&j.prevActiveIndex!==j.activeIndex&&j.prevActiveIndex!==j.selectedIndex&&j.defocusItem(i),(c||p)&&(q=j.selectpicker.view.visibleElements?j.selectpicker.view.visibleElements.slice():[],j.selectpicker.view.visibleElements=!1===u?j.selectpicker.current.elements:j.selectpicker.current.elements.slice(j.selectpicker.view.position0,j.selectpicker.view.position1),j.setOptionStatus(),(a||!1===u&&c)&&(t=!e(q,j.selectpicker.view.visibleElements)),(c||!0===u)&&t)){var x,y,z=j.$menuInner[0],A=document.createDocumentFragment(),B=z.firstChild.cloneNode(!1),C=j.selectpicker.view.visibleElements,D=[];z.replaceChild(B,z.firstChild);for(var v=0,E=C.length;v<E;v++){var F,G,H=C[v];j.options.sanitize&&(F=H.lastChild)&&(G=j.selectpicker.current.data[v+j.selectpicker.view.position0])&&G.content&&!G.sanitized&&(D.push(F),G.sanitized=!0),A.appendChild(H)}if(j.options.sanitize&&D.length&&d(D,j.options.whiteList,j.options.sanitizeFn),!0===u?(x=0===j.selectpicker.view.position0?0:j.selectpicker.current.data[j.selectpicker.view.position0-1].position,y=j.selectpicker.view.position1>r-1?0:j.selectpicker.current.data[r-1].position-j.selectpicker.current.data[j.selectpicker.view.position1-1].position,z.firstChild.style.marginTop=x+"px",z.firstChild.style.marginBottom=y+"px"):(z.firstChild.style.marginTop=0,z.firstChild.style.marginBottom=0),z.firstChild.appendChild(A),!0===u&&j.sizeInfo.hasScrollBar){var I=z.firstChild.offsetWidth;if(c&&I<j.sizeInfo.menuInnerInnerWidth&&j.sizeInfo.totalMenuWidth>j.sizeInfo.selectWidth)z.firstChild.style.minWidth=j.sizeInfo.menuInnerInnerWidth+"px";else if(I>j.sizeInfo.menuInnerInnerWidth){j.$menu[0].style.minWidth=0;var J=z.firstChild.offsetWidth;J>j.sizeInfo.menuInnerInnerWidth&&(j.sizeInfo.menuInnerInnerWidth=J,z.firstChild.style.minWidth=j.sizeInfo.menuInnerInnerWidth+"px"),j.$menu[0].style.minWidth=""}}}if(j.prevActiveIndex=j.activeIndex,j.options.liveSearch){if(a&&c){var K,L=0;j.selectpicker.view.canHighlight[L]||(L=1+j.selectpicker.view.canHighlight.slice(1).indexOf(!0)),K=j.selectpicker.view.visibleElements[L],j.defocusItem(j.selectpicker.view.currentActive),j.activeIndex=(j.selectpicker.current.data[L]||{}).index,j.focusItem(K)}}else;}var h,i,j=this,k=0,l=[];if(this.selectpicker.isSearching=a,this.selectpicker.current=a?this.selectpicker.search:this.selectpicker.main,this.setPositionData(),c)if(f)k=this.$menuInner[0].scrollTop;else if(!j.multiple){var m=j.$element[0],n=(m.options[m.selectedIndex]||{}).liIndex;if("number"==typeof n&&!1!==j.options.size){var o=j.selectpicker.main.data[n],p=o&&o.position;p&&(k=p-(j.sizeInfo.menuInnerHeight+j.sizeInfo.liHeight)/2)}}g(k,!0),this.$menuInner.off("scroll.createView").on("scroll.createView",function(a,b){j.noScroll||g(this.scrollTop,b),j.noScroll=!1}),b(window).off("resize.bs.select."+this.selectId+".createView").on("resize.bs.select."+this.selectId+".createView",function(){j.$newElement.hasClass(J.SHOW)&&g(j.$menuInner[0].scrollTop)})},focusItem:function(a,b,c){if(a){b=b||this.selectpicker.main.data[this.activeIndex];var d=a.firstChild;d&&(d.setAttribute("aria-setsize",this.selectpicker.view.size),d.setAttribute("aria-posinset",b.posinset),!0!==c&&(this.focusedParent.setAttribute("aria-activedescendant",d.id),a.classList.add("active"),d.classList.add("active")))}},defocusItem:function(a){a&&(a.classList.remove("active"),a.firstChild&&a.firstChild.classList.remove("active"))},setPlaceholder:function(){var a=!1;if(this.options.title&&!this.multiple){this.selectpicker.view.titleOption||(this.selectpicker.view.titleOption=document.createElement("option")),a=!0;var c=this.$element[0],d=!1,e=!this.selectpicker.view.titleOption.parentNode;if(e){this.selectpicker.view.titleOption.className="bs-title-option",this.selectpicker.view.titleOption.value="";d=void 0===b(c.options[c.selectedIndex]).attr("selected")&&void 0===this.$element.data("selected")}(e||0!==this.selectpicker.view.titleOption.index)&&c.insertBefore(this.selectpicker.view.titleOption,c.firstChild),d&&(c.selectedIndex=0)}return a},buildData:function(){function a(a){var b=d[d.length-1];b&&"divider"===b.type&&(b.optID||a.optID)||(a=a||{},a.type="divider",d.push(a))}function b(b,c){if(c=c||{},c.divider="true"===b.getAttribute("data-divider"),c.divider)a({optID:c.optID});else{var e=d.length,f=b.style.cssText,g=f?D(f):"",h=(b.className||"")+(c.optgroupClass||"");c.optID&&(h="opt "+h),c.optionClass=h.trim(),c.inlineStyle=g,c.text=b.textContent,c.content=b.getAttribute("data-content"),c.tokens=b.getAttribute("data-tokens"),c.subtext=b.getAttribute("data-subtext"),c.icon=b.getAttribute("data-icon"),b.liIndex=e,c.display=c.content||c.text,c.type="option",c.index=e,c.option=b,c.selected=!!b.selected,c.disabled=c.disabled||!!b.disabled,d.push(c)}}var c=':not([hidden]):not([data-hidden="true"])',d=[],e=0,f=this.setPlaceholder()?1:0;this.options.hideDisabled&&(c+=":not(:disabled)");for(var g=this.$element[0].querySelectorAll("select > *"+c),h=g.length;f<h;f++){var i=g[f];"OPTGROUP"!==i.tagName?b(i,{}):function(f,g){var h=g[f],i=g[f-1],j=g[f+1],k=h.querySelectorAll("option"+c);if(k.length){var l,m,n={display:D(h.label),subtext:h.getAttribute("data-subtext"),icon:h.getAttribute("data-icon"),type:"optgroup-label",optgroupClass:" "+(h.className||"")};e++,i&&a({optID:e}),n.optID=e,d.push(n);for(var o=0,p=k.length;o<p;o++){var q=k[o];0===o&&(l=d.length-1,m=l+p),b(q,{headerIndex:l,lastIndex:m,optID:n.optID,optgroupClass:n.optgroupClass,disabled:h.disabled})}j&&a({optID:e})}}(f,g)}this.selectpicker.main.data=this.selectpicker.current.data=d},buildList:function(){var a=this,b=this.selectpicker.main.data,c=[],d=0;!a.options.showTick&&!a.multiple||L.checkMark.parentNode||(L.checkMark.className=this.options.iconBase+" "+a.options.tickIcon+" check-mark",L.a.appendChild(L.checkMark));for(var e=b.length,f=0;f<e;f++){var g=b[f];!function(b){var e,f=0;switch(b.type){case"divider":e=O.li(!1,J.DIVIDER,b.optID?b.optID+"div":void 0);break;case"option":e=O.li(O.a(O.text.call(a,b),b.optionClass,b.inlineStyle),"",b.optID),e.firstChild&&(e.firstChild.id=a.selectId+"-"+b.index);break;case"optgroup-label":e=O.li(O.label.call(a,b),"dropdown-header"+b.optgroupClass,b.optID)}c.push(e),b.display&&(f+=b.display.length),b.subtext&&(f+=b.subtext.length),b.icon&&(f+=1),f>d&&(d=f,a.selectpicker.view.widestOption=c[c.length-1])}(g)}this.selectpicker.main.elements=this.selectpicker.current.elements=c},findLis:function(){return this.$menuInner.find(".inner > li")},render:function(){var b,c,e=this,h=this.$element[0],i=this.setPlaceholder()&&0===h.selectedIndex,j=f(h,this.options.hideDisabled),k=j.length,l=this.$button[0],m=l.querySelector(".filter-option-inner-inner"),n=document.createTextNode(this.options.multipleSeparator),o=L.fragment.cloneNode(!1),p=!1;if(l.classList.toggle("bs-placeholder",e.multiple?!k:!g(h,j)),this.tabIndex(),"static"===this.options.selectedTextFormat)o=O.text.call(this,{text:this.options.title},!0);else if(b=this.multiple&&-1!==this.options.selectedTextFormat.indexOf("count")&&k>1,b&&(c=this.options.selectedTextFormat.split(">"),b=c.length>1&&k>c[1]||1===c.length&&k>=2),!1===b){if(!i){for(var q=0;q<k&&q<50;q++){var r=j[q],s=this.selectpicker.main.data[r.liIndex],t={};this.multiple&&q>0&&o.appendChild(n.cloneNode(!1)),r.title?t.text=r.title:s&&(s.content&&e.options.showContent?(t.content=s.content.toString(),p=!0):(e.options.showIcon&&(t.icon=s.icon),e.options.showSubtext&&!e.multiple&&s.subtext&&(t.subtext=" "+s.subtext),t.text=r.textContent.trim())),o.appendChild(O.text.call(this,t,!0))}k>49&&o.appendChild(document.createTextNode("..."))}}else{var u=':not([hidden]):not([data-hidden="true"]):not([data-divider="true"])';this.options.hideDisabled&&(u+=":not(:disabled)");var v=this.$element[0].querySelectorAll("select > option"+u+", optgroup"+u+" option"+u).length,w="function"==typeof this.options.countSelectedText?this.options.countSelectedText(k,v):this.options.countSelectedText;o=O.text.call(this,{text:w.replace("{0}",k.toString()).replace("{1}",v.toString())},!0)}void 0==this.options.title&&(this.options.title=this.$element.attr("title")),o.childNodes.length||(o=O.text.call(this,{text:void 0!==this.options.title?this.options.title:this.options.noneSelectedText},!0)),l.title=o.textContent.replace(/<[^>]*>?/g,"").trim(),this.options.sanitize&&p&&d([o],e.options.whiteList,e.options.sanitizeFn),m.innerHTML="",m.appendChild(o);var x=a(m).find("img")[0];if(void 0!==x){var y=x.getAttribute("data-src");y&&x.setAttribute("src",y)}if(G.major<4&&this.$newElement[0].classList.contains("bs3-has-addon")){var z=l.querySelector(".filter-expand"),A=m.cloneNode(!0);A.className="filter-expand",z?l.replaceChild(A,z):l.appendChild(A)}this.$element.trigger("rendered.bs.select")},setStyle:function(a,b){var c,d=this.$button[0],e=this.$newElement[0],f=this.options.style.trim();this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,"")),G.major<4&&(e.classList.add("bs3"),e.parentNode.classList.contains("input-group")&&(e.previousElementSibling||e.nextElementSibling)&&(e.previousElementSibling||e.nextElementSibling).classList.contains("input-group-addon")&&e.classList.add("bs3-has-addon")),c=a?a.trim():f,"add"==b?c&&d.classList.add.apply(d.classList,c.split(" ")):"remove"==b?c&&d.classList.remove.apply(d.classList,c.split(" ")):(f&&d.classList.remove.apply(d.classList,f.split(" ")),c&&d.classList.add.apply(d.classList,c.split(" ")))},liHeight:function(a){if(a||!1!==this.options.size&&!Object.keys(this.sizeInfo).length){var c=document.createElement("div"),d=document.createElement("div"),e=document.createElement("div"),f=document.createElement("ul"),g=document.createElement("li"),h=document.createElement("li"),j=document.createElement("li"),k=document.createElement("a"),l=document.createElement("span"),m=this.options.header&&this.$menu.find("."+J.POPOVERHEADER).length>0?this.$menu.find("."+J.POPOVERHEADER)[0].cloneNode(!0):null,n=this.options.liveSearch?document.createElement("div"):null,o=this.options.actionsBox&&this.multiple&&this.$menu.find(".bs-actionsbox").length>0?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,p=this.options.doneButton&&this.multiple&&this.$menu.find(".bs-donebutton").length>0?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null,q=this.$element.find("option")[0];if(this.sizeInfo.selectWidth=this.$newElement[0].offsetWidth,l.className="text",k.className="dropdown-item "+(q?q.className:""),c.className=this.$menu[0].parentNode.className+" "+J.SHOW,c.style.width=0,"auto"===this.options.width&&(d.style.minWidth=0),d.className=J.MENU+" "+J.SHOW,e.className="inner "+J.SHOW,f.className=J.MENU+" inner "+("4"===G.major?J.SHOW:""),g.className=J.DIVIDER,h.className="dropdown-header",l.appendChild(document.createTextNode("​")),k.appendChild(l),j.appendChild(k),h.appendChild(l.cloneNode(!0)),this.selectpicker.view.widestOption&&f.appendChild(this.selectpicker.view.widestOption.cloneNode(!0)),f.appendChild(j),f.appendChild(g),f.appendChild(h),m&&d.appendChild(m),n){var r=document.createElement("input");n.className="bs-searchbox",r.className="form-control",n.appendChild(r),d.appendChild(n)}o&&d.appendChild(o),e.appendChild(f),d.appendChild(e),p&&d.appendChild(p),c.appendChild(d),document.body.appendChild(c);var s,t=j.offsetHeight,u=h?h.offsetHeight:0,v=m?m.offsetHeight:0,w=n?n.offsetHeight:0,x=o?o.offsetHeight:0,y=p?p.offsetHeight:0,z=b(g).outerHeight(!0),A=!!window.getComputedStyle&&window.getComputedStyle(d),B=d.offsetWidth,C=A?null:b(d),D={vert:i(A?A.paddingTop:C.css("paddingTop"))+i(A?A.paddingBottom:C.css("paddingBottom"))+i(A?A.borderTopWidth:C.css("borderTopWidth"))+i(A?A.borderBottomWidth:C.css("borderBottomWidth")),horiz:i(A?A.paddingLeft:C.css("paddingLeft"))+i(A?A.paddingRight:C.css("paddingRight"))+i(A?A.borderLeftWidth:C.css("borderLeftWidth"))+i(A?A.borderRightWidth:C.css("borderRightWidth"))},E={vert:D.vert+i(A?A.marginTop:C.css("marginTop"))+i(A?A.marginBottom:C.css("marginBottom"))+2,horiz:D.horiz+i(A?A.marginLeft:C.css("marginLeft"))+i(A?A.marginRight:C.css("marginRight"))+2};e.style.overflowY="scroll",s=d.offsetWidth-B,document.body.removeChild(c),this.sizeInfo.liHeight=t,this.sizeInfo.dropdownHeaderHeight=u,this.sizeInfo.headerHeight=v,this.sizeInfo.searchHeight=w,this.sizeInfo.actionsHeight=x,this.sizeInfo.doneButtonHeight=y,this.sizeInfo.dividerHeight=z,this.sizeInfo.menuPadding=D,this.sizeInfo.menuExtras=E,this.sizeInfo.menuWidth=B,this.sizeInfo.menuInnerInnerWidth=B-D.horiz,
this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth,this.sizeInfo.scrollBarWidth=s,this.sizeInfo.selectHeight=this.$newElement[0].offsetHeight,this.setPositionData()}},getSelectPosition:function(){var a,c=this,d=b(window),e=c.$newElement.offset(),f=b(c.options.container);c.options.container&&f.length&&!f.is("body")?(a=f.offset(),a.top+=parseInt(f.css("borderTopWidth")),a.left+=parseInt(f.css("borderLeftWidth"))):a={top:0,left:0};var g=c.options.windowPadding;this.sizeInfo.selectOffsetTop=e.top-a.top-d.scrollTop(),this.sizeInfo.selectOffsetBot=d.height()-this.sizeInfo.selectOffsetTop-this.sizeInfo.selectHeight-a.top-g[2],this.sizeInfo.selectOffsetLeft=e.left-a.left-d.scrollLeft(),this.sizeInfo.selectOffsetRight=d.width()-this.sizeInfo.selectOffsetLeft-this.sizeInfo.selectWidth-a.left-g[1],this.sizeInfo.selectOffsetTop-=g[0],this.sizeInfo.selectOffsetLeft-=g[3]},setMenuSize:function(a){this.getSelectPosition();var b,c,d,e,f,g,h,i,j=this.sizeInfo.selectWidth,k=this.sizeInfo.liHeight,l=this.sizeInfo.headerHeight,m=this.sizeInfo.searchHeight,n=this.sizeInfo.actionsHeight,o=this.sizeInfo.doneButtonHeight,p=this.sizeInfo.dividerHeight,q=this.sizeInfo.menuPadding,r=0;if(this.options.dropupAuto&&(h=k*this.selectpicker.current.elements.length+q.vert,i=this.sizeInfo.selectOffsetTop-this.sizeInfo.selectOffsetBot>this.sizeInfo.menuExtras.vert&&h+this.sizeInfo.menuExtras.vert+50>this.sizeInfo.selectOffsetBot,!0===this.selectpicker.isSearching&&(i=this.selectpicker.dropup),this.$newElement.toggleClass(J.DROPUP,i),this.selectpicker.dropup=i),"auto"===this.options.size)e=this.selectpicker.current.elements.length>3?3*this.sizeInfo.liHeight+this.sizeInfo.menuExtras.vert-2:0,c=this.sizeInfo.selectOffsetBot-this.sizeInfo.menuExtras.vert,d=e+l+m+n+o,g=Math.max(e-q.vert,0),this.$newElement.hasClass(J.DROPUP)&&(c=this.sizeInfo.selectOffsetTop-this.sizeInfo.menuExtras.vert),f=c,b=c-l-m-n-o-q.vert;else if(this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size){for(var s=0;s<this.options.size;s++)"divider"===this.selectpicker.current.data[s].type&&r++;c=k*this.options.size+r*p+q.vert,b=c-q.vert,f=c+l+m+n+o,d=g=""}this.$menu.css({"max-height":f+"px",overflow:"hidden","min-height":d+"px"}),this.$menuInner.css({"max-height":b+"px","overflow-y":"auto","min-height":g+"px"}),this.sizeInfo.menuInnerHeight=Math.max(b,1),this.selectpicker.current.data.length&&this.selectpicker.current.data[this.selectpicker.current.data.length-1].position>this.sizeInfo.menuInnerHeight&&(this.sizeInfo.hasScrollBar=!0,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth+this.sizeInfo.scrollBarWidth),"auto"===this.options.dropdownAlignRight&&this.$menu.toggleClass(J.MENURIGHT,this.sizeInfo.selectOffsetLeft>this.sizeInfo.selectOffsetRight&&this.sizeInfo.selectOffsetRight<this.sizeInfo.totalMenuWidth-j),this.dropdown&&this.dropdown._popper&&this.dropdown._popper.update()},setSize:function(a){if(this.liHeight(a),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size){var c=this,d=b(window);this.setMenuSize(),this.options.liveSearch&&this.$searchbox.off("input.setMenuSize propertychange.setMenuSize").on("input.setMenuSize propertychange.setMenuSize",function(){return c.setMenuSize()}),"auto"===this.options.size?d.off("resize.bs.select."+this.selectId+".setMenuSize scroll"+I+"."+this.selectId+".setMenuSize").on("resize.bs.select."+this.selectId+".setMenuSize scroll"+I+"."+this.selectId+".setMenuSize",function(){return c.setMenuSize()}):this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size&&d.off("resize.bs.select."+this.selectId+".setMenuSize scroll"+I+"."+this.selectId+".setMenuSize")}this.createView(!1,!0,a)},setWidth:function(){var a=this;"auto"===this.options.width?requestAnimationFrame(function(){a.$menu.css("min-width","0"),a.$element.on("loaded.bs.select",function(){a.liHeight(),a.setMenuSize();var b=a.$newElement.clone().appendTo("body"),c=b.css("width","auto").children("button").outerWidth();b.remove(),a.sizeInfo.selectWidth=Math.max(a.sizeInfo.totalMenuWidth,c),a.$newElement.css("width",a.sizeInfo.selectWidth+"px")})}):"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width","")),this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement[0].classList.remove("fit-width")},selectPosition:function(){this.$bsContainer=b('<div class="bs-container" />');var a,c,d,e=this,f=b(this.options.container),g=function(g){var h={},i=e.options.display||!!b.fn.dropdown.Constructor.Default&&b.fn.dropdown.Constructor.Default.display;e.$bsContainer.addClass(g.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass(J.DROPUP,g.hasClass(J.DROPUP)),a=g.offset(),f.is("body")?c={top:0,left:0}:(c=f.offset(),c.top+=parseInt(f.css("borderTopWidth"))-f.scrollTop(),c.left+=parseInt(f.css("borderLeftWidth"))-f.scrollLeft()),d=g.hasClass(J.DROPUP)?0:g[0].offsetHeight,(G.major<4||"static"===i)&&(h.top=a.top-c.top+d,h.left=a.left-c.left),h.width=g[0].offsetWidth,e.$bsContainer.css(h)};this.$button.on("click.bs.dropdown.data-api",function(){e.isDisabled()||(g(e.$newElement),e.$bsContainer.appendTo(e.options.container).toggleClass(J.SHOW,!e.$button.hasClass(J.SHOW)).append(e.$menu))}),b(window).off("resize.bs.select."+this.selectId+" scroll"+I+"."+this.selectId).on("resize.bs.select."+this.selectId+" scroll"+I+"."+this.selectId,function(){e.$newElement.hasClass(J.SHOW)&&g(e.$newElement)}),this.$element.on("hide.bs.select",function(){e.$menu.data("height",e.$menu.height()),e.$bsContainer.detach()})},setOptionStatus:function(a){var b=this;if(b.noScroll=!1,b.selectpicker.view.visibleElements&&b.selectpicker.view.visibleElements.length)for(var c=0;c<b.selectpicker.view.visibleElements.length;c++){var d=b.selectpicker.current.data[c+b.selectpicker.view.position0],e=d.option;e&&(!0!==a&&b.setDisabled(d.index,d.disabled),b.setSelected(d.index,e.selected))}},setSelected:function(a,b){var c,d,e=this.selectpicker.main.elements[a],f=this.selectpicker.main.data[a],g=void 0!==this.activeIndex,h=this.activeIndex===a,i=h||b&&!this.multiple&&!g;f.selected=b,d=e.firstChild,b&&(this.selectedIndex=a),e.classList.toggle("selected",b),i?(this.focusItem(e,f),this.selectpicker.view.currentActive=e,this.activeIndex=a):this.defocusItem(e),d&&(d.classList.toggle("selected",b),b?d.setAttribute("aria-selected",!0):this.multiple?d.setAttribute("aria-selected",!1):d.removeAttribute("aria-selected")),i||g||!b||void 0===this.prevActiveIndex||(c=this.selectpicker.main.elements[this.prevActiveIndex],this.defocusItem(c))},setDisabled:function(a,b){var c,d=this.selectpicker.main.elements[a];this.selectpicker.main.data[a].disabled=b,c=d.firstChild,d.classList.toggle(J.DISABLED,b),c&&("4"===G.major&&c.classList.toggle(J.DISABLED,b),b?(c.setAttribute("aria-disabled",b),c.setAttribute("tabindex",-1)):(c.removeAttribute("aria-disabled"),c.setAttribute("tabindex",0)))},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){this.isDisabled()?(this.$newElement[0].classList.add(J.DISABLED),this.$button.addClass(J.DISABLED).attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button[0].classList.contains(J.DISABLED)&&(this.$newElement[0].classList.remove(J.DISABLED),this.$button.removeClass(J.DISABLED).attr("aria-disabled",!1)),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex"))},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){function a(){d.options.liveSearch||d.$menuInner.trigger("focus")}function c(){d.dropdown&&d.dropdown._popper&&d.dropdown._popper.state.isCreated?a():requestAnimationFrame(c)}var d=this,e=b(document);e.data("spaceSelect",!1),this.$button.on("keyup",function(a){/(32)/.test(a.keyCode.toString(10))&&e.data("spaceSelect")&&(a.preventDefault(),e.data("spaceSelect",!1))}),this.$newElement.on("show.bs.dropdown",function(){G.major>3&&!d.dropdown&&(d.dropdown=d.$button.data("bs.dropdown"),d.dropdown._menu=d.$menu[0])}),this.$button.on("click.bs.dropdown.data-api",function(){d.$newElement.hasClass(J.SHOW)||d.setSize()}),this.$element.on("shown.bs.select",function(){d.$menuInner[0].scrollTop!==d.selectpicker.view.scrollTop&&(d.$menuInner[0].scrollTop=d.selectpicker.view.scrollTop),G.major>3?requestAnimationFrame(c):a()}),this.$menuInner.on("mouseenter","li a",function(a){var b=this.parentElement,c=d.isVirtual()?d.selectpicker.view.position0:0,e=Array.prototype.indexOf.call(b.parentElement.children,b),f=d.selectpicker.current.data[e+c];d.focusItem(b,f,!0)}),this.$menuInner.on("click","li a",function(a,c){var e=b(this),h=d.$element[0],i=d.isVirtual()?d.selectpicker.view.position0:0,j=d.selectpicker.current.data[e.parent().index()+i],k=j.index,l=g(h),m=h.selectedIndex,n=h.options[m],o=!0;if(d.multiple&&1!==d.options.maxOptions&&a.stopPropagation(),a.preventDefault(),!d.isDisabled()&&!e.parent().hasClass(J.DISABLED)){var p=j.option,q=b(p),r=p.selected,s=q.parent("optgroup"),t=s.find("option"),u=d.options.maxOptions,v=s.data("maxOptions")||!1;if(k===d.activeIndex&&(c=!0),c||(d.prevActiveIndex=d.activeIndex,d.activeIndex=void 0),d.multiple){if(p.selected=!r,d.setSelected(k,!r),e.trigger("blur"),!1!==u||!1!==v){var w=u<f(h).length,y=v<s.find("option:selected").length;if(u&&w||v&&y)if(u&&1==u)h.selectedIndex=-1,p.selected=!0,d.setOptionStatus(!0);else if(v&&1==v){for(var z=0;z<t.length;z++){var A=t[z];A.selected=!1,d.setSelected(A.liIndex,!1)}p.selected=!0,d.setSelected(k,!0)}else{var B="string"==typeof d.options.maxOptionsText?[d.options.maxOptionsText,d.options.maxOptionsText]:d.options.maxOptionsText,C="function"==typeof B?B(u,v):B,D=C[0].replace("{n}",u),E=C[1].replace("{n}",v),F=b('<div class="notify"></div>');C[2]&&(D=D.replace("{var}",C[2][u>1?0:1]),E=E.replace("{var}",C[2][v>1?0:1])),p.selected=!1,d.$menu.append(F),u&&w&&(F.append(b("<div>"+D+"</div>")),o=!1,d.$element.trigger("maxReached.bs.select")),v&&y&&(F.append(b("<div>"+E+"</div>")),o=!1,d.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){d.setSelected(k,!1)},10),F[0].classList.add("fadeOut"),setTimeout(function(){F.remove()},1050)}}}else n&&(n.selected=!1),p.selected=!0,d.setSelected(k,!0);!d.multiple||d.multiple&&1===d.options.maxOptions?d.$button.trigger("focus"):d.options.liveSearch&&d.$searchbox.trigger("focus"),o&&(d.multiple||m!==h.selectedIndex)&&(x=[p.index,q.prop("selected"),l],d.$element.triggerNative("change"))}}),this.$menu.on("click","li."+J.DISABLED+" a, ."+J.POPOVERHEADER+", ."+J.POPOVERHEADER+" :not(.close)",function(a){a.currentTarget==this&&(a.preventDefault(),a.stopPropagation(),d.options.liveSearch&&!b(a.target).hasClass("close")?d.$searchbox.trigger("focus"):d.$button.trigger("focus"))}),this.$menuInner.on("click",".divider, .dropdown-header",function(a){a.preventDefault(),a.stopPropagation(),d.options.liveSearch?d.$searchbox.trigger("focus"):d.$button.trigger("focus")}),this.$menu.on("click","."+J.POPOVERHEADER+" .close",function(){d.$button.trigger("click")}),this.$searchbox.on("click",function(a){a.stopPropagation()}),this.$menu.on("click",".actions-btn",function(a){d.options.liveSearch?d.$searchbox.trigger("focus"):d.$button.trigger("focus"),a.preventDefault(),a.stopPropagation(),b(this).hasClass("bs-select-all")?d.selectAll():d.deselectAll()}),this.$element.on("change.bs.select",function(){d.render(),d.$element.trigger("changed.bs.select",x),x=null}).on("focus.bs.select",function(){d.options.mobile||d.$button.trigger("focus")})},liveSearchListener:function(){var a=this,b=document.createElement("li");this.$button.on("click.bs.dropdown.data-api",function(){a.$searchbox.val()&&a.$searchbox.val("")}),this.$searchbox.on("click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api",function(a){a.stopPropagation()}),this.$searchbox.on("input propertychange",function(){var c=a.$searchbox.val();if(a.selectpicker.search.elements=[],a.selectpicker.search.data=[],c){var d,e=[],f=c.toUpperCase(),g={},i=[],j=a._searchStyle(),l=a.options.liveSearchNormalize;l&&(f=k(f));for(var d=0;d<a.selectpicker.main.data.length;d++){var m=a.selectpicker.main.data[d];g[d]||(g[d]=h(m,f,j,l)),g[d]&&void 0!==m.headerIndex&&-1===i.indexOf(m.headerIndex)&&(m.headerIndex>0&&(g[m.headerIndex-1]=!0,i.push(m.headerIndex-1)),g[m.headerIndex]=!0,i.push(m.headerIndex),g[m.lastIndex+1]=!0),g[d]&&"optgroup-label"!==m.type&&i.push(d)}for(var d=0,n=i.length;d<n;d++){var o=i[d],p=i[d-1],m=a.selectpicker.main.data[o],q=a.selectpicker.main.data[p];("divider"!==m.type||"divider"===m.type&&q&&"divider"!==q.type&&n-1!==d)&&(a.selectpicker.search.data.push(m),e.push(a.selectpicker.main.elements[o]))}a.activeIndex=void 0,a.noScroll=!0,a.$menuInner.scrollTop(0),a.selectpicker.search.elements=e,a.createView(!0),e.length||(b.className="no-results",b.innerHTML=a.options.noneResultsText.replace("{0}",'"'+D(c)+'"'),a.$menuInner[0].firstChild.appendChild(b))}else a.$menuInner.scrollTop(0),a.createView(!1)})},_searchStyle:function(){return this.options.liveSearchStyle||"contains"},val:function(a){var b=this.$element[0];if(void 0!==a){var c=g(b);if(x=[null,null,c],this.$element.val(a).trigger("changed.bs.select",x),this.$newElement.hasClass(J.SHOW))if(this.multiple)this.setOptionStatus(!0);else{var d=(b.options[b.selectedIndex]||{}).liIndex;"number"==typeof d&&(this.setSelected(this.selectedIndex,!1),this.setSelected(d,!0))}return this.render(),x=null,this.$element}return this.$element.val()},changeAll:function(a){if(this.multiple){void 0===a&&(a=!0);var b=this.$element[0],c=0,d=0,e=g(b);b.classList.add("bs-select-hidden");for(var f=0,h=this.selectpicker.current.data,i=h.length;f<i;f++){var j=h[f],k=j.option;k&&!j.disabled&&"divider"!==j.type&&(j.selected&&c++,k.selected=a,!0===a&&d++)}b.classList.remove("bs-select-hidden"),c!==d&&(this.setOptionStatus(),x=[null,null,e],this.$element.triggerNative("change"))}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(a){a=a||window.event,a&&a.stopPropagation(),this.$button.trigger("click.bs.dropdown.data-api")},keydown:function(a){var c,d,e,f,g,i=b(this),j=i.hasClass("dropdown-toggle"),k=j?i.closest(".dropdown"):i.closest(K.MENU),l=k.data("this"),m=l.findLis(),n=!1,o=a.which===F.TAB&&!j&&!l.options.selectOnTab,p=M.test(a.which)||o,q=l.$menuInner[0].scrollTop,r=l.isVirtual(),s=!0===r?l.selectpicker.view.position0:0;if(!(a.which>=112&&a.which<=123)){if(!(d=l.$newElement.hasClass(J.SHOW))&&(p||a.which>=48&&a.which<=57||a.which>=96&&a.which<=105||a.which>=65&&a.which<=90)&&(l.$button.trigger("click.bs.dropdown.data-api"),l.options.liveSearch))return void l.$searchbox.trigger("focus");if(a.which===F.ESCAPE&&d&&(a.preventDefault(),l.$button.trigger("click.bs.dropdown.data-api").trigger("focus")),p){if(!m.length)return;e=l.selectpicker.main.elements[l.activeIndex],c=e?Array.prototype.indexOf.call(e.parentElement.children,e):-1,-1!==c&&l.defocusItem(e),a.which===F.ARROW_UP?(-1!==c&&c--,c+s<0&&(c+=m.length),l.selectpicker.view.canHighlight[c+s]||-1===(c=l.selectpicker.view.canHighlight.slice(0,c+s).lastIndexOf(!0)-s)&&(c=m.length-1)):(a.which===F.ARROW_DOWN||o)&&(c++,c+s>=l.selectpicker.view.canHighlight.length&&(c=0),l.selectpicker.view.canHighlight[c+s]||(c=c+1+l.selectpicker.view.canHighlight.slice(c+s+1).indexOf(!0))),a.preventDefault();var t=s+c;a.which===F.ARROW_UP?0===s&&c===m.length-1?(l.$menuInner[0].scrollTop=l.$menuInner[0].scrollHeight,t=l.selectpicker.current.elements.length-1):(f=l.selectpicker.current.data[t],g=f.position-f.height,n=g<q):(a.which===F.ARROW_DOWN||o)&&(0===c?(l.$menuInner[0].scrollTop=0,t=0):(f=l.selectpicker.current.data[t],g=f.position-l.sizeInfo.menuInnerHeight,n=g>q)),e=l.selectpicker.current.elements[t],l.activeIndex=l.selectpicker.current.data[t].index,l.focusItem(e),l.selectpicker.view.currentActive=e,n&&(l.$menuInner[0].scrollTop=g),l.options.liveSearch?l.$searchbox.trigger("focus"):i.trigger("focus")}else if(!i.is("input")&&!N.test(a.which)||a.which===F.SPACE&&l.selectpicker.keydown.keyHistory){var u,v,w=[];a.preventDefault(),l.selectpicker.keydown.keyHistory+=E[a.which],l.selectpicker.keydown.resetKeyHistory.cancel&&clearTimeout(l.selectpicker.keydown.resetKeyHistory.cancel),l.selectpicker.keydown.resetKeyHistory.cancel=l.selectpicker.keydown.resetKeyHistory.start(),v=l.selectpicker.keydown.keyHistory,/^(.)\1+$/.test(v)&&(v=v.charAt(0));for(var x=0;x<l.selectpicker.current.data.length;x++){var y,z=l.selectpicker.current.data[x];y=h(z,v,"startsWith",!0),y&&l.selectpicker.view.canHighlight[x]&&w.push(z.index)}if(w.length){var A=0;m.removeClass("active").find("a").removeClass("active"),1===v.length&&(A=w.indexOf(l.activeIndex),-1===A||A===w.length-1?A=0:A++),u=w[A],f=l.selectpicker.main.data[u],q-f.position>0?(g=f.position-f.height,n=!0):(g=f.position-l.sizeInfo.menuInnerHeight,n=f.position>q+l.sizeInfo.menuInnerHeight),e=l.selectpicker.main.elements[u],l.activeIndex=w[A],l.focusItem(e),e&&e.firstChild.focus(),n&&(l.$menuInner[0].scrollTop=g),i.trigger("focus")}}d&&(a.which===F.SPACE&&!l.selectpicker.keydown.keyHistory||a.which===F.ENTER||a.which===F.TAB&&l.options.selectOnTab)&&(a.which!==F.SPACE&&a.preventDefault(),l.options.liveSearch&&a.which===F.SPACE||(l.$menuInner.find(".active a").trigger("click",!0),i.trigger("focus"),l.options.liveSearch||(a.preventDefault(),b(document).data("spaceSelect",!0))))}},mobile:function(){this.$element[0].classList.add("mobile-device")},refresh:function(){var a=b.extend({},this.options,this.$element.data());this.options=a,this.checkDisabled(),this.setStyle(),this.render(),this.buildData(),this.buildList(),this.setWidth(),this.setSize(!0),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(I).removeData("selectpicker").removeClass("bs-select-hidden selectpicker"),b(window).off(".bs.select."+this.selectId)}};var Q=b.fn.selectpicker;b.fn.selectpicker=l,b.fn.selectpicker.Constructor=P,b.fn.selectpicker.noConflict=function(){return b.fn.selectpicker=Q,this};var R=b.fn.dropdown.Constructor._dataApiKeydownHandler||b.fn.dropdown.Constructor.prototype.keydown;b(document).off("keydown.bs.dropdown.data-api").on("keydown.bs.dropdown.data-api",':not(.bootstrap-select) > [data-toggle="dropdown"]',R).on("keydown.bs.dropdown.data-api",":not(.bootstrap-select) > .dropdown-menu",R).on("keydown.bs.select",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',P.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',function(a){a.stopPropagation()}),b(window).on("load.bs.select.data-api",function(){b(".selectpicker").each(function(){var a=b(this);l.call(a,a.data())})})}(a)});